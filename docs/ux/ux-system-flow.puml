@startuml
title UX System Flow ‚Äî Intera√ß√µes Usu√°rio √ó Sistema √ó IA (MEGASIM One)

skinparam backgroundColor #FAFAFA
skinparam sequence {
  ArrowColor #777777
  ActorBorderColor #555555
  LifeLineBorderColor #AAAAAA
  LifeLineBackgroundColor #FFFFFF
  ParticipantBorderColor #AAAAAA
  ParticipantBackgroundColor #FFFFFF
  BoxBackgroundColor #EAEAEA
  BoxBorderColor #999999
}

actor "üë§ Usu√°rio (Admin / Operador)" as USER
participant "üé® Interface (Front-End MEGASIM One)" as UI
participant "‚öôÔ∏è Orquestrador UX / API Gateway" as UXAPI
participant "üß© Servi√ßos de Neg√≥cio\n(Fiscal / Financeiro / Suporte)" as SERVICES
participant "üß† M√≥dulo IA / Suporte Inteligente" as AI
participant "üìä Observabilidade / Logs" as OBS

== In√≠cio da Sess√£o ==
USER -> UI : Login (MFA / Token)
UI -> UXAPI : Autentica√ß√£o + Carregar Perfil
UXAPI -> SERVICES : Obter dados do tenant + permiss√µes
SERVICES --> UXAPI : Retorna contexto inicial
UXAPI --> UI : Renderiza dashboard

== A√ß√£o: Emiss√£o de Nota ==
USER -> UI : Seleciona ‚ÄúEmitir Nota Fiscal‚Äù
UI -> UXAPI : Envia dados + m√≥dulo fiscal (NF-e / NFC-e / NFS-e)
UXAPI -> SERVICES : Valida√ß√£o e transmiss√£o
SERVICES -> OBS : Log de evento (in√≠cio de emiss√£o)
SERVICES --> UXAPI : Resultado (autorizada / rejeitada)
UXAPI -> UI : Exibe feedback visual
UI -> AI : Envia logs e contexto (para aprendizado)

== A√ß√£o: Suporte Contextual ==
USER -> UI : Clica ‚ÄúAjuda‚Äù
UI -> AI : Solicita artigo / resposta contextual
AI --> UI : Sugest√£o de solu√ß√£o + op√ß√£o ‚ÄúGerar Ticket‚Äù
UI -> UXAPI : Cria√ß√£o de ticket (se necess√°rio)
UXAPI -> SERVICES : Registra ticket e log
SERVICES -> OBS : Atualiza m√©tricas de suporte

== A√ß√£o: Financeiro Integrado ==
USER -> UI : Abre m√≥dulo Financeiro
UI -> UXAPI : Solicita contas vinculadas √†s notas
UXAPI -> SERVICES : Obt√©m lan√ßamentos autom√°ticos
SERVICES --> UXAPI : Retorna dados consolidados
UXAPI --> UI : Exibe dashboard financeiro

== Aprendizado Cont√≠nuo ==
AI -> OBS : Coleta m√©tricas de erro, tempo e satisfa√ß√£o
OBS -> AI : Retorna indicadores para ajuste do modelo
AI -> UXAPI : Recomenda melhorias autom√°ticas (UX adaptativo)

== Encerramento ==
USER -> UI : Logout
UI -> UXAPI : Finaliza sess√£o
UXAPI -> OBS : Log de sess√£o encerrada

@enduml
![UX System Flow](https://raw.githubusercontent.com/YuriGrandinetti/MegasimOnePainel/main/imagens/docs/diagrams/ux-system-flow.svg)